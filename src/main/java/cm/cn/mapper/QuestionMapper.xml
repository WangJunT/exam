<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="cm.cn.mapper.QuestionMapper" >
	<resultMap id="BaseResultMap" type="cm.cn.po.JsQuesion" >
	    <!--
	      WARNING - @mbggenerated
	      This element is automatically generated by MyBatis Generator, do not modify.
	      This element was generated on Wed Aug 02 20:12:20 CST 2017.
	    -->
	    <id column="id" property="id" jdbcType="INTEGER" />
	    <result column="type_id" property="typeId" jdbcType="INTEGER" />
	    <result column="title" property="title" jdbcType="VARCHAR" />
	    <result column="content" property="content" jdbcType="VARCHAR" />
	    <result column="answer" property="answer" jdbcType="VARCHAR" />
	    <result column="creater" property="creater" jdbcType="VARCHAR" />
	    <result column="leibie_type" property="leibieType" jdbcType="VARCHAR" />
	    <result column="exam_type" property="examType" jdbcType="VARCHAR" />
	    <result column="option_number" property="optionNumber" jdbcType="INTEGER" />
	    <result column="difficult_type" property="difficultType" jdbcType="INTEGER" />
	    <result column="know_type" property="knowType" jdbcType="VARCHAR" />
	    <result column="reserve_one" property="reserveOne" jdbcType="VARCHAR" />
	    <result column="reserve_two" property="reserveTwo" jdbcType="VARCHAR" />
	  </resultMap>
	<insert id="insertList" parameterType="java.util.List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Aug 02 20:12:20 CST 2017.
    -->
    insert into js_quesion(
        type_id,
        title,
        content,
        answer,
	<!--         creater, -->
	<!--         leibie_type, -->
	<!--         exam_type, -->
        option_number
	<!--         difficult_type, -->
	<!--         know_type, -->
	<!--         reserve_one, -->
	<!--         reserve_two, -->
	    )
       values
   
	<!--     <trim prefix="values (" suffix=")" suffixOverrides="," > -->
    <foreach collection="list" item="item" index="index" separator="," >
    (
	<!--         #{item.id,jdbcType=INTEGER}, -->
        #{item.typeId,jdbcType=INTEGER},
        #{item.title,jdbcType=VARCHAR},
        #{item.content,jdbcType=VARCHAR},
        #{item.answer,jdbcType=VARCHAR},
	<!--         #{item.creater,jdbcType=VARCHAR}, -->
	<!--         #{item.leibieType,jdbcType=VARCHAR}, -->
	<!--         #{item.examType,jdbcType=VARCHAR}, -->
        #{item.optionNumber,jdbcType=INTEGER}
	<!--         #{item.difficultType,jdbcType=INTEGER}, -->
	<!--         #{item.knowType,jdbcType=VARCHAR}, -->
	<!--         #{item.reserveOne,jdbcType=VARCHAR}, -->
	<!--         #{item.reserveTwo,jdbcType=VARCHAR}, -->
	)
     </foreach>  
  </insert>
  <!--   查询所有 -->
  <select id="selectAllQuestion" resultMap="BaseResultMap">
  	SELECT
		js.id 'id',
		js.type_id 'typeId',
		js.title 'title',
		js.content 'content',
		js.answer 'answer'
	FROM
		js_quesion js
  </select>
  <!--   分类别查询所有题目 -->
  <select id="selectTypeQuestion" parameterType="int" resultMap="BaseResultMap">
  	SELECT
  		js.id 'id',
		js.title 'title',
		js.content 'content',
		js.answer 'answer'
	FROM
		js_quesion js
	WHERE
		js.type_id = #{type_id}
  </select>
  <!--   分类随机查询 -->
  <select id="selectRandomQuestion" resultMap="BaseResultMap">
  	SELECT
  		a.id 'id',
		a.title,
		a.content,
		a.answer
	FROM
		(
			SELECT
				*
			FROM
				js_quesion ques
			WHERE
				ques.type_id = #{0}
		) a limit #{1},#{2}
  </select>
   <!--   根据题目类别查询各种类别题目总数 -->
  <select id="selectCount" parameterType="int" resultType="int">
  	SELECT
		COUNT(*)
	FROM
		js_quesion ques
	WHERE
		ques.type_id = #{type_id}
  </select>
	<!--   根据 id 查询答案 -->
  <select id="selectAnswer" resultType="string">
  	SELECT
		js.answer 'answer'
	FROM
		js_quesion js
	WHERE
		id IN  
	<foreach collection="array" item="id" index="index"
           open="(" close=")" separator=",">
           #{id}
     </foreach>
  </select>
</mapper>